env: test
debug: true
producer:
  primary_brokers: localhost:12181
  # secondary_brokers:
  kafka_config:
    "enable.idempotence": true
    acks: all
    "max.in.flight.requests.per.connection": 5
    "retries": 3
topic_mapping:
  - topic: primary-success
    patterns:
      - test\.primary-success
  - topic: secondary-success
    patterns:
      - test\.secondary-success
  - topic: event-v3-${env}-default
    patterns:
      - .*
consumer:
  default_config:
    concurrent_per_partition: 1
    kafka_config:
      "enable.auto.commit": false
      "max.poll.interval.ms": 50
  instances:
    - id: test_consumer1
      events: []
      kafka_config:
        "group.id": "override_group_id"
      sink:
        url: http://localhost
        method: POST
        headers: []
        expected_status_codes: [200]
        expected_responses: ["ok"]
      retry:
        strategy: backoff
        max_retry_times: 10